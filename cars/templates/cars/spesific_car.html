{% extends 'base.html' %}

{% block Content %}

    <h1>{{ car.brand }} {{ car.model }}</h1>


    <h1>Liste over alle registrerte booking:</h1>
    {% for booking in bookings %}
        <h1>Booking: {{ booking.initial_date }} til {{ booking.final_date }}</h1>
    {% endfor %}

    <h1>Legg til ny: </h1>

<form method="post" >{% csrf_token %}
    <p>Fra Dato: <input type="text" id="datepickerStart" name="initial_date" style="font-size: large; color: black"></p>
    <p>Til Dato: <input type="text" id="datepickerFinish" name="final_date" style="font-size: large; color: black"></p>
    <button type="submit" class="btn btn-default">Fortsett</button>
</form>
<div class="container">


{% if warning %}
<div class="alert alert-danger" style="font-size: large">
  <strong>Advarsel!</strong> {{ message }}
</div>
{% endif %}

    <h3>Litt-funksjonell kalender</h3>
</div>

<div id='calendar' style="background-color: white; color: black; width: 50%; height: 50%;"></div>



    {% for bilde in bilder %}
        <img src="{{ bilde }}">
    {% endfor %}

{% endblock Content %}




{% block testBlock %}

   <script>
   //var event1 = {{ event|safe }}
   var json_data_string = {{ json_data_string | safe }}
    var events = []; //The array
   for(var i = 0; i<json_data_string.length; i++){
       console.log(i);
       events.push( {start: json_data_string[i].start, end: json_data_string[i].end, rendering: 'background', color: 'red'})
   }

    $(document).ready(( function() {
        console.log("Hei");
        $( "#datepickerStart" ).datepicker();
        $( "#datepickerFinish" ).datepicker();


        $('#calendar').fullCalendar({
            // put your options and callbacks here
        dayRender: function (date, cell) {
            cell.css("background-color", "white");
            },


                }
            )


        $("#calendar").fullCalendar('removeEvents');
        $("#calendar").fullCalendar('addEventSource', events);
    }

    ));


    </script>

{% endblock testBlock %}
